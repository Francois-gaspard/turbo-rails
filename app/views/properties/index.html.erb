<main class="container">
  <%= turbo_frame_tag 'first_turbo_frame' do %>
    <div class="header">
      <h1>Properties</h1>
      <%= link_to "New property",
                  new_property_path,
                  data: { turbo_frame: dom_id(Property.new) },
                  class: "btn btn--primary" %>
    </div>
  <% end %>
<%= turbo_frame_tag Property.new %>
  <%= turbo_frame_tag 'properties' do %>
    <%= turbo_frame_tag "page_#{@pagy.page}" do %>
      <%= render @properties %>
      <% if @pagy.next %>
        <%= turbo_frame_tag "page_#{@pagy.next}",
                            loading: :lazy,
                            src: pagy_url_for(@pagy, @pagy.next) %>
      <% else %>
        No more properties
      <% end %>
    <% end %>
  <% end %>
</main>
